<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol.lst-kix_hsv7ydn37l00-5.start{counter-reset:lst-ctn-kix_hsv7ydn37l00-5 0}.lst-kix_d8cjq9mvkdv4-8>li:before{content:"" counter(lst-ctn-kix_d8cjq9mvkdv4-8,lower-roman) ". "}.lst-kix_d8cjq9mvkdv4-3>li{counter-increment:lst-ctn-kix_d8cjq9mvkdv4-3}.lst-kix_b1zf1oes2puc-1>li{counter-increment:lst-ctn-kix_b1zf1oes2puc-1}.lst-kix_d8cjq9mvkdv4-6>li:before{content:"" counter(lst-ctn-kix_d8cjq9mvkdv4-6,decimal) ". "}ol.lst-kix_hsv7ydn37l00-2.start{counter-reset:lst-ctn-kix_hsv7ydn37l00-2 0}ol.lst-kix_d8cjq9mvkdv4-6.start{counter-reset:lst-ctn-kix_d8cjq9mvkdv4-6 0}.lst-kix_d8cjq9mvkdv4-7>li:before{content:"" counter(lst-ctn-kix_d8cjq9mvkdv4-7,lower-latin) ". "}.lst-kix_b1zf1oes2puc-1>li:before{content:"" counter(lst-ctn-kix_b1zf1oes2puc-1,lower-latin) ") "}.lst-kix_b1zf1oes2puc-0>li:before{content:"" counter(lst-ctn-kix_b1zf1oes2puc-0,decimal) ") "}.lst-kix_b1zf1oes2puc-2>li:before{content:"" counter(lst-ctn-kix_b1zf1oes2puc-2,lower-roman) ") "}.lst-kix_d8cjq9mvkdv4-0>li:before{content:"" counter(lst-ctn-kix_d8cjq9mvkdv4-0,decimal) ") "}.lst-kix_d8cjq9mvkdv4-2>li:before{content:"" counter(lst-ctn-kix_d8cjq9mvkdv4-2,lower-roman) ") "}.lst-kix_d8cjq9mvkdv4-1>li:before{content:"" counter(lst-ctn-kix_d8cjq9mvkdv4-1,lower-latin) ") "}.lst-kix_d8cjq9mvkdv4-5>li:before{content:"(" counter(lst-ctn-kix_d8cjq9mvkdv4-5,lower-roman) ") "}.lst-kix_d8cjq9mvkdv4-4>li{counter-increment:lst-ctn-kix_d8cjq9mvkdv4-4}.lst-kix_b1zf1oes2puc-4>li:before{content:"(" counter(lst-ctn-kix_b1zf1oes2puc-4,lower-latin) ") "}.lst-kix_d8cjq9mvkdv4-4>li:before{content:"(" counter(lst-ctn-kix_d8cjq9mvkdv4-4,lower-latin) ") "}.lst-kix_b1zf1oes2puc-0>li{counter-increment:lst-ctn-kix_b1zf1oes2puc-0}.lst-kix_b1zf1oes2puc-3>li:before{content:"(" counter(lst-ctn-kix_b1zf1oes2puc-3,decimal) ") "}.lst-kix_d8cjq9mvkdv4-3>li:before{content:"(" counter(lst-ctn-kix_d8cjq9mvkdv4-3,decimal) ") "}.lst-kix_b1zf1oes2puc-8>li:before{content:"" counter(lst-ctn-kix_b1zf1oes2puc-8,lower-roman) ". "}.lst-kix_hsv7ydn37l00-0>li{counter-increment:lst-ctn-kix_hsv7ydn37l00-0}.lst-kix_b1zf1oes2puc-5>li:before{content:"(" counter(lst-ctn-kix_b1zf1oes2puc-5,lower-roman) ") "}.lst-kix_b1zf1oes2puc-6>li:before{content:"" counter(lst-ctn-kix_b1zf1oes2puc-6,decimal) ". "}.lst-kix_b1zf1oes2puc-7>li:before{content:"" counter(lst-ctn-kix_b1zf1oes2puc-7,lower-latin) ". "}ol.lst-kix_b1zf1oes2puc-1.start{counter-reset:lst-ctn-kix_b1zf1oes2puc-1 0}.lst-kix_d8cjq9mvkdv4-5>li{counter-increment:lst-ctn-kix_d8cjq9mvkdv4-5}.lst-kix_d8cjq9mvkdv4-2>li{counter-increment:lst-ctn-kix_d8cjq9mvkdv4-2}ol.lst-kix_hsv7ydn37l00-0.start{counter-reset:lst-ctn-kix_hsv7ydn37l00-0 0}ol.lst-kix_hsv7ydn37l00-2{list-style-type:none}ol.lst-kix_hsv7ydn37l00-3{list-style-type:none}.lst-kix_d8cjq9mvkdv4-0>li{counter-increment:lst-ctn-kix_d8cjq9mvkdv4-0}ol.lst-kix_hsv7ydn37l00-4{list-style-type:none}ol.lst-kix_hsv7ydn37l00-5{list-style-type:none}.lst-kix_d8cjq9mvkdv4-6>li{counter-increment:lst-ctn-kix_d8cjq9mvkdv4-6}ol.lst-kix_b1zf1oes2puc-0.start{counter-reset:lst-ctn-kix_b1zf1oes2puc-0 0}ol.lst-kix_hsv7ydn37l00-0{list-style-type:none}ol.lst-kix_hsv7ydn37l00-1{list-style-type:none}.lst-kix_b1zf1oes2puc-4>li{counter-increment:lst-ctn-kix_b1zf1oes2puc-4}ol.lst-kix_b1zf1oes2puc-7.start{counter-reset:lst-ctn-kix_b1zf1oes2puc-7 0}ol.lst-kix_d8cjq9mvkdv4-4.start{counter-reset:lst-ctn-kix_d8cjq9mvkdv4-4 0}.lst-kix_hsv7ydn37l00-1>li{counter-increment:lst-ctn-kix_hsv7ydn37l00-1}ol.lst-kix_hsv7ydn37l00-4.start{counter-reset:lst-ctn-kix_hsv7ydn37l00-4 0}.lst-kix_b1zf1oes2puc-3>li{counter-increment:lst-ctn-kix_b1zf1oes2puc-3}.lst-kix_hsv7ydn37l00-7>li{counter-increment:lst-ctn-kix_hsv7ydn37l00-7}ol.lst-kix_hsv7ydn37l00-6{list-style-type:none}ol.lst-kix_hsv7ydn37l00-7{list-style-type:none}ol.lst-kix_hsv7ydn37l00-8{list-style-type:none}ol.lst-kix_b1zf1oes2puc-7{list-style-type:none}ol.lst-kix_b1zf1oes2puc-6{list-style-type:none}ol.lst-kix_b1zf1oes2puc-5{list-style-type:none}ol.lst-kix_b1zf1oes2puc-4{list-style-type:none}ol.lst-kix_b1zf1oes2puc-8{list-style-type:none}ol.lst-kix_b1zf1oes2puc-6.start{counter-reset:lst-ctn-kix_b1zf1oes2puc-6 0}ol.lst-kix_d8cjq9mvkdv4-3.start{counter-reset:lst-ctn-kix_d8cjq9mvkdv4-3 0}ol.lst-kix_d8cjq9mvkdv4-0{list-style-type:none}ol.lst-kix_d8cjq9mvkdv4-1{list-style-type:none}ol.lst-kix_d8cjq9mvkdv4-2{list-style-type:none}ol.lst-kix_d8cjq9mvkdv4-3{list-style-type:none}ol.lst-kix_b1zf1oes2puc-3{list-style-type:none}ol.lst-kix_b1zf1oes2puc-2{list-style-type:none}ol.lst-kix_b1zf1oes2puc-1{list-style-type:none}ol.lst-kix_b1zf1oes2puc-0{list-style-type:none}ol.lst-kix_b1zf1oes2puc-5.start{counter-reset:lst-ctn-kix_b1zf1oes2puc-5 0}ol.lst-kix_d8cjq9mvkdv4-8{list-style-type:none}ol.lst-kix_d8cjq9mvkdv4-4{list-style-type:none}ol.lst-kix_d8cjq9mvkdv4-5{list-style-type:none}ol.lst-kix_d8cjq9mvkdv4-6{list-style-type:none}ol.lst-kix_d8cjq9mvkdv4-7{list-style-type:none}.lst-kix_hsv7ydn37l00-8>li:before{content:"" counter(lst-ctn-kix_hsv7ydn37l00-8,lower-roman) ". "}ol.lst-kix_b1zf1oes2puc-2.start{counter-reset:lst-ctn-kix_b1zf1oes2puc-2 0}.lst-kix_d8cjq9mvkdv4-8>li{counter-increment:lst-ctn-kix_d8cjq9mvkdv4-8}.lst-kix_ao0e3zfhf3hq-7>li:before{content:"\0025cb  "}.lst-kix_ao0e3zfhf3hq-8>li:before{content:"\0025a0  "}.lst-kix_b1zf1oes2puc-7>li{counter-increment:lst-ctn-kix_b1zf1oes2puc-7}.lst-kix_ao0e3zfhf3hq-5>li:before{content:"\0025a0  "}.lst-kix_b1zf1oes2puc-6>li{counter-increment:lst-ctn-kix_b1zf1oes2puc-6}ol.lst-kix_hsv7ydn37l00-1.start{counter-reset:lst-ctn-kix_hsv7ydn37l00-1 0}.lst-kix_hsv7ydn37l00-4>li{counter-increment:lst-ctn-kix_hsv7ydn37l00-4}.lst-kix_ao0e3zfhf3hq-6>li:before{content:"\0025cf  "}ol.lst-kix_hsv7ydn37l00-6.start{counter-reset:lst-ctn-kix_hsv7ydn37l00-6 0}.lst-kix_hsv7ydn37l00-6>li{counter-increment:lst-ctn-kix_hsv7ydn37l00-6}ul.lst-kix_ao0e3zfhf3hq-8{list-style-type:none}.lst-kix_d8cjq9mvkdv4-7>li{counter-increment:lst-ctn-kix_d8cjq9mvkdv4-7}ul.lst-kix_ao0e3zfhf3hq-7{list-style-type:none}ol.lst-kix_d8cjq9mvkdv4-5.start{counter-reset:lst-ctn-kix_d8cjq9mvkdv4-5 0}ul.lst-kix_ao0e3zfhf3hq-6{list-style-type:none}.lst-kix_hsv7ydn37l00-0>li:before{content:"" counter(lst-ctn-kix_hsv7ydn37l00-0,decimal) ") "}ul.lst-kix_ao0e3zfhf3hq-5{list-style-type:none}ul.lst-kix_ao0e3zfhf3hq-4{list-style-type:none}ul.lst-kix_ao0e3zfhf3hq-3{list-style-type:none}ul.lst-kix_ao0e3zfhf3hq-2{list-style-type:none}.lst-kix_hsv7ydn37l00-2>li:before{content:"" counter(lst-ctn-kix_hsv7ydn37l00-2,lower-roman) ") "}ul.lst-kix_ao0e3zfhf3hq-1{list-style-type:none}.lst-kix_hsv7ydn37l00-3>li{counter-increment:lst-ctn-kix_hsv7ydn37l00-3}ol.lst-kix_d8cjq9mvkdv4-2.start{counter-reset:lst-ctn-kix_d8cjq9mvkdv4-2 0}ul.lst-kix_ao0e3zfhf3hq-0{list-style-type:none}.lst-kix_hsv7ydn37l00-1>li:before{content:"" counter(lst-ctn-kix_hsv7ydn37l00-1,lower-latin) ") "}.lst-kix_hsv7ydn37l00-4>li:before{content:"(" counter(lst-ctn-kix_hsv7ydn37l00-4,lower-latin) ") "}ol.lst-kix_hsv7ydn37l00-3.start{counter-reset:lst-ctn-kix_hsv7ydn37l00-3 0}.lst-kix_hsv7ydn37l00-3>li:before{content:"(" counter(lst-ctn-kix_hsv7ydn37l00-3,decimal) ") "}.lst-kix_hsv7ydn37l00-7>li:before{content:"" counter(lst-ctn-kix_hsv7ydn37l00-7,lower-latin) ". "}.lst-kix_hsv7ydn37l00-6>li:before{content:"" counter(lst-ctn-kix_hsv7ydn37l00-6,decimal) ". "}ol.lst-kix_d8cjq9mvkdv4-8.start{counter-reset:lst-ctn-kix_d8cjq9mvkdv4-8 0}.lst-kix_hsv7ydn37l00-5>li:before{content:"(" counter(lst-ctn-kix_hsv7ydn37l00-5,lower-roman) ") "}ol.lst-kix_b1zf1oes2puc-8.start{counter-reset:lst-ctn-kix_b1zf1oes2puc-8 0}ol.lst-kix_hsv7ydn37l00-7.start{counter-reset:lst-ctn-kix_hsv7ydn37l00-7 0}ol.lst-kix_d8cjq9mvkdv4-1.start{counter-reset:lst-ctn-kix_d8cjq9mvkdv4-1 0}.lst-kix_d8cjq9mvkdv4-1>li{counter-increment:lst-ctn-kix_d8cjq9mvkdv4-1}ol.lst-kix_b1zf1oes2puc-4.start{counter-reset:lst-ctn-kix_b1zf1oes2puc-4 0}.lst-kix_b1zf1oes2puc-2>li{counter-increment:lst-ctn-kix_b1zf1oes2puc-2}.lst-kix_ao0e3zfhf3hq-0>li:before{content:"\0025cf  "}.lst-kix_b1zf1oes2puc-5>li{counter-increment:lst-ctn-kix_b1zf1oes2puc-5}ol.lst-kix_d8cjq9mvkdv4-0.start{counter-reset:lst-ctn-kix_d8cjq9mvkdv4-0 0}.lst-kix_ao0e3zfhf3hq-1>li:before{content:"\0025cb  "}ol.lst-kix_d8cjq9mvkdv4-7.start{counter-reset:lst-ctn-kix_d8cjq9mvkdv4-7 0}.lst-kix_ao0e3zfhf3hq-3>li:before{content:"\0025cf  "}.lst-kix_ao0e3zfhf3hq-4>li:before{content:"\0025cb  "}.lst-kix_ao0e3zfhf3hq-2>li:before{content:"\0025a0  "}.lst-kix_hsv7ydn37l00-8>li{counter-increment:lst-ctn-kix_hsv7ydn37l00-8}.lst-kix_hsv7ydn37l00-5>li{counter-increment:lst-ctn-kix_hsv7ydn37l00-5}ol.lst-kix_hsv7ydn37l00-8.start{counter-reset:lst-ctn-kix_hsv7ydn37l00-8 0}.lst-kix_hsv7ydn37l00-2>li{counter-increment:lst-ctn-kix_hsv7ydn37l00-2}ol.lst-kix_b1zf1oes2puc-3.start{counter-reset:lst-ctn-kix_b1zf1oes2puc-3 0}.lst-kix_b1zf1oes2puc-8>li{counter-increment:lst-ctn-kix_b1zf1oes2puc-8}ol{margin:0;padding:0}table td,table th{padding:0}.c1{-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Arial";font-style:normal}.c18{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:24pt;font-family:"Arial";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c16{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c6{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c15{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c22{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c20{margin-left:18pt;padding-top:3pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c12{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c14{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c17{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c23{margin-left:36pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c11{padding-top:10pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c21{padding-top:4pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c4{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c19{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c10{margin-left:36pt;padding-left:0pt}.c8{margin-left:108pt;padding-left:0pt}.c9{margin-left:72pt;padding-left:0pt}.c3{padding:0;margin:0}.c7{color:inherit;text-decoration:inherit}.c13{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c19"><p class="c16 title" id="h.5uix7vt8na32"><span class="c18">Jeanie&rsquo;s Notes on Getting Started with Terraform</span></p><p class="c2 c13"><span class="c0"></span></p><p class="c21"><span class="c4"><a class="c7" href="#h.10anwg6e7efk">Introduction</a></span></p><p class="c15"><span class="c1"><a class="c7" href="#h.6prbqkwj9dk9">What is Terraform?</a></span></p><p class="c15"><span class="c1"><a class="c7" href="#h.tyjgh7g4qla">Why do these notes exist?</a></span></p><p class="c15"><span class="c1"><a class="c7" href="#h.rtyfe2oj5qdi">Why AWS?</a></span></p><p class="c11"><span class="c1"><a class="c7" href="#h.khg50bbn2uyj">Installation/AWS User Setup</a></span></p><p class="c11"><span class="c1"><a class="c7" href="#h.6sbp63gw3t70">Step 1: Making a load balanced web server cluster</a></span></p><p class="c15"><span class="c1"><a class="c7" href="#h.z6g2qutcgguk">Why this project? &nbsp;Shouldn&rsquo;t we do something simpler?</a></span></p><p class="c11"><span class="c1"><a class="c7" href="#h.dcgqkykg31nq">Step 2: Make your code team-friendly</a></span></p><p class="c15"><span class="c1"><a class="c7" href="#h.hvtrnnohdsai">Terraform backend in the cloud</a></span></p><p class="c23"><span class="c1"><a class="c7" href="#h.l11zqq5otvf9">S3 specific backend details</a></span></p><p class="c11"><span class="c1"><a class="c7" href="#h.vhms81ru877y">Terraform Interpolation Syntax</a></span></p><p class="c11"><span class="c1"><a class="c7" href="#h.eg2qx48sgu0l">Important AWS/Terraform/etc Definitions</a></span></p><p class="c15"><span class="c1"><a class="c7" href="#h.lsxqxwshq3ef">Arguments used in resources</a></span></p><p class="c15"><span class="c1"><a class="c7" href="#h.cc7t3ainq84d">Resources</a></span></p><p class="c20"><span class="c1"><a class="c7" href="#h.adfmggpkkkt1">Other random Terraform/AWS items worth knowing about</a></span></p><h1 class="c12" id="h.10anwg6e7efk"><span class="c5">Introduction</span></h1><h2 class="c6" id="h.6prbqkwj9dk9"><span class="c14">What is Terraform? </span></h2><p class="c2"><span class="c0">Terraform is a handy devops tool that lets you create machines, network, etc. adhoc in the public cloud provider of your choice (for most ppl, this is AWS). &nbsp;</span></p><h2 class="c6" id="h.tyjgh7g4qla"><span class="c14">Why do these notes exist?</span></h2><p class="c2"><span class="c0">There are lots of tutorials on how to start using Terraform, but because I really like things explained from scratch including initial setup, I wrote this. &nbsp;It&rsquo;s for my own personal setup, which is a Windows 10 laptop, but beyond the initial installing of things environment shouldn&rsquo;t matter much, so maybe it can help you too? &nbsp;</span></p><h2 class="c6" id="h.rtyfe2oj5qdi"><span class="c14">Why AWS?</span></h2><p class="c2"><span class="c0">I am using AWS because that is the most widely used public cloud provider. &nbsp;I&rsquo;ve already done some work in the past using Azure, and after doing some tutorials I can say that the main difference is just the resources you use. &nbsp;Don&rsquo;t be fooled, though, Terraform is NOT cloud provider agnostic.</span></p><h1 class="c12" id="h.khg50bbn2uyj"><span class="c5">Installation/AWS User Setup</span></h1><p class="c2 c13"><span class="c0"></span></p><p class="c2"><span class="c0">Like all things in software development, setup is never simple.. first things first, all the installing of things you&rsquo;ll need to do:</span></p><p class="c2 c13"><span class="c0"></span></p><ol class="c3 lst-kix_b1zf1oes2puc-0 start" start="1"><li class="c2 c10"><span>Install </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/downloads.html&amp;sa=D&amp;ust=1553882296053000">Terraform</a></span><span class="c0">&nbsp;</span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-1 start" start="1"><li class="c2 c9"><span class="c0">I put it at C:\terraform like the example in the Terraform docs, but feel free to put it wherever works for you.</span></li><li class="c2 c9"><span class="c0">set the Terraform executable&rsquo;s location in your computer&rsquo;s path variable so that you can call it from any directory.</span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-2 start" start="1"><li class="c2 c8"><span class="c0">verify this works afterwards in some random folder by calling &lsquo;Terraform --version&rsquo; from PowerShell. </span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-0" start="2"><li class="c2 c10"><span>Install </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.python.org/downloads/&amp;sa=D&amp;ust=1553882296054000">Python</a></span><span class="c0">&nbsp;- you need Python to run the AWS command line interface (AWS CLI).</span></li><li class="c2 c10"><span class="c0">Create an AWS account if you don&#39;t already have one.</span></li><li class="c2 c10"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/signup-create-iam-user.html&amp;sa=D&amp;ust=1553882296055000">Create a special user for Terraform</a></span><span class="c0">&nbsp;in AWS IAM. &nbsp;I called mine terraform_user. &nbsp;</span></li><li class="c2 c10"><span class="c0">Give this user full admin privs and save their access credentials. You MUST save these details at the time of credentials creation:</span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-1 start" start="1"><li class="c2 c9"><span class="c0">access key id</span></li><li class="c2 c9"><span class="c0">secret access key</span></li><li class="c2 c9"><span class="c0">password</span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-0" start="6"><li class="c2 c10"><span>Install </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html&amp;sa=D&amp;ust=1553882296056000">AWS CLI</a></span></li><li class="c2 c10"><span class="c0">Configure credentials for use with AWS CLI - there are two options: </span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-1 start" start="1"><li class="c2 c9"><span class="c0">create credential files: </span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-2 start" start="1"><li class="c2 c8"><span class="c0">use PowerShell to run &lsquo;aws configure&rsquo;, and then input the above credentials when prompted. &nbsp;</span></li><li class="c2 c8"><span class="c0">You will also be prompted to input a default region name and output format, you can leave these blank if you want.</span></li><li class="c2 c8"><span class="c0">Afterward, the credentials that Terraform will use will be saved in a new folder at C:\Users\(your username)\.aws</span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-1" start="2"><li class="c2 c9"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html&amp;sa=D&amp;ust=1553882296058000">set environment variables</a></span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-0" start="8"><li class="c2 c10"><span class="c0">Install an editor to use with Terraform files - there are a few but recommended ones include:</span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-1 start" start="1"><li class="c2 c9"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://code.visualstudio.com/&amp;sa=D&amp;ust=1553882296058000">Visual Studio Code</a></span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-2 start" start="1"><li class="c2 c8"><span>also install the </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://marketplace.visualstudio.com/items?itemName%3Dmauve.terraform&amp;sa=D&amp;ust=1553882296059000">Terraform extension</a></span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-1" start="2"><li class="c2 c9"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://atom.io/&amp;sa=D&amp;ust=1553882296059000">Atom</a></span></li></ol><ol class="c3 lst-kix_b1zf1oes2puc-0" start="9"><li class="c2 c10"><span class="c0">(not required but recommended) have a github account where you will save your work.</span></li></ol><p class="c2 c13"><span class="c0"></span></p><p class="c2 c13"><span class="c0"></span></p><p class="c2"><span class="c0">Ok, now you&rsquo;re ready to start making things in the Amazon public cloud!</span></p><p class="c2 c13"><span class="c0"></span></p><h1 class="c12" id="h.6sbp63gw3t70"><span class="c5">Step 1: Making a load balanced web server cluster</span></h1><h2 class="c6" id="h.z6g2qutcgguk"><span class="c14">Why this project? &nbsp;Shouldn&rsquo;t we do something simpler?</span></h2><p class="c2"><span>There are a few example first projects, like the one in the </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://learn.hashicorp.com/terraform/getting-started/build&amp;sa=D&amp;ust=1553882296060000">terraform docs</a></span><span>, but I recommend doing the one from </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://blog.gruntwork.io/an-introduction-to-terraform-f17df9c6d180&amp;sa=D&amp;ust=1553882296061000">blog.gruntwork.io</a></span><span class="c0">&nbsp;because it&rsquo;s a bit more complicated. &nbsp;It walks you through the process from the very beginning of creating just a basic web server to a full-on load balanced cluster. &nbsp;</span></p><p class="c2 c13"><span class="c0"></span></p><p class="c2"><span>You can find the final version of the gruntwork tf files </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://github.com/gruntwork-io/intro-to-terraform&amp;sa=D&amp;ust=1553882296062000">here</a></span><span class="c0">. Do not be tempted to just copy this file and look at it. &nbsp;Do it yourself, and only refer to their reference if things are broken for some reason. &nbsp;FYI they used Terraform 0.7 - everything worked for me with v0.11 but your experience may vary.</span></p><p class="c2 c13"><span class="c0"></span></p><p class="c2"><span>Notes on how to </span></p><p class="c2 c13"><span class="c0"></span></p><ol class="c3 lst-kix_d8cjq9mvkdv4-0 start" start="1"><li class="c2 c10"><span class="c0">create a folder for your example project. &nbsp;</span></li><li class="c2 c10"><span>use PowerShell to run &lsquo;terraform init&rsquo; to </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://learn.hashicorp.com/terraform/getting-started/build%23initialization&amp;sa=D&amp;ust=1553882296063000">initialize Terraform</a></span><span class="c0">&nbsp;to use with the AWS credentials we created.</span></li><li class="c2 c10"><span>create a .tf file in that folder (name it whatever you want) and add the info from the </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://blog.gruntwork.io/an-introduction-to-terraform-f17df9c6d180&amp;sa=D&amp;ust=1553882296063000">gruntwork simple server example</a></span><span class="c0">&nbsp;into the file and save it.</span></li><li class="c2 c10"><span class="c0">navigate in PowerShell to the folder that contains the terraform files you want to execute. &nbsp;Terraform will make the plan from everything in this folder and its subfolders.</span></li><li class="c2 c10"><span class="c0">Use PowerShell to run &lsquo;terraform plan&rsquo; to see the plan - it should say &lsquo;1 to add&rsquo; in the plan summary.</span></li><li class="c2 c10"><span class="c0">Use PowerShell to run &lsquo;terraform apply&rsquo; to create the server. You&rsquo;ll have to type &lsquo;yes&rsquo; to confirm.</span></li><li class="c2 c10"><span class="c0">Woo hoo! &nbsp;check AWS:</span></li></ol><ol class="c3 lst-kix_d8cjq9mvkdv4-1 start" start="1"><li class="c2 c9"><span class="c0">go to aws.amazon.com, and &lsquo;sign into the console&rsquo;</span></li><li class="c2 c9"><span class="c0">click on &lsquo;all services&gt;EC2&gt;Instances&rsquo;</span></li><li class="c2 c9"><span class="c0">you should see your server</span></li></ol><ol class="c3 lst-kix_d8cjq9mvkdv4-0" start="8"><li class="c2 c10"><span class="c0">Make sure to also try the update where you give it a name, you&rsquo;ll see &lsquo;1 to update&rsquo; in the plan before you execute &lsquo;terraform apply&rsquo;</span></li><li class="c2 c10"><span class="c0">Continue doing the steps in the blog post until you get to the end, and you&rsquo;ll have set up a load balanced auto-adjustable group of web servers.. &nbsp;woot.</span></li><li class="c2 c10"><span class="c0">Don&rsquo;t forget to do &lsquo;terraform destroy&rsquo; in the end just in case you might get charged by Amazon! &nbsp;You&rsquo;ll also have to confirm by typing &lsquo;yes&rsquo; here.</span></li></ol><p class="c2 c13"><span class="c0"></span></p><h1 class="c12" id="h.dcgqkykg31nq"><span class="c5">Step 2: Make your code team-friendly</span></h1><h2 class="c6" id="h.hvtrnnohdsai"><span class="c14">Terraform backend in the cloud </span></h2><p class="c2"><span>If multiple ppl are working on a project, or just.. you know, best practices to not have the current state of your infrastructure dependent on your personal computer or some local store, you can use place like </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://aws.amazon.com/s3/&amp;sa=D&amp;ust=1553882296065000">Amazon S3</a></span><span>&nbsp;to save things that Terraform needs to run, like the state or output. Terraform calls this the &lsquo;</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/docs/backends/index.html&amp;sa=D&amp;ust=1553882296065000">Backend</a></span><span>&rsquo;. &nbsp;Setup is pretty straightforward - but use </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://datanextsolutions.com/blog/terraform-using-aws-s3-remote-backend/&amp;sa=D&amp;ust=1553882296066000">this blog post</a></span><span class="c0">&nbsp;bc the gruntwork blog post method is deprecated.</span></p><h3 class="c22" id="h.l11zqq5otvf9"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/docs/backends/types/s3.html&amp;sa=D&amp;ust=1553882296067000">S3 specific backend</a></span><span class="c17">&nbsp;details</span></h3><ol class="c3 lst-kix_hsv7ydn37l00-0 start" start="1"><li class="c2 c10"><span class="c0">create a bucket in the S3 management console (name must be globally unique).</span></li><li class="c2 c10"><span class="c0">make sure your terraform user has access to the bucket.</span></li><li class="c2 c10"><span class="c0">make a &lsquo;terraform&rsquo; section in a tf file and put the details from the blog post mentioned in there.</span></li></ol><ol class="c3 lst-kix_hsv7ydn37l00-1 start" start="1"><li class="c2 c9"><span>if you need to know the code for your region they are </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html%23concepts-available-regions&amp;sa=D&amp;ust=1553882296067000">here</a></span><span class="c0">.</span></li></ol><ol class="c3 lst-kix_hsv7ydn37l00-0" start="4"><li class="c2 c10"><span class="c0">run &lsquo;terraform init&rsquo; in order to set up the backend for the first time. &nbsp;it&rsquo;ll ask you if you want to copy over or start fresh. up to you.</span></li><li class="c2 c10"><span class="c0">bonus round: &nbsp;if you would like to lock the tfstate file to prevent collisions, you must set up a Dynamo DB table and add that to the terraform section. </span></li></ol><h1 class="c12" id="h.vhms81ru877y"><span class="c5">Terraform Interpolation Syntax</span></h1><p class="c2"><span>Using variables or referring to other things is an essential part of using Terraform. Hardcoding is always a bad idea.. &nbsp;In order to make your life easier, use the </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/docs/configuration-0-11/interpolation.html&amp;sa=D&amp;ust=1553882296068000">Terraform Interpolation Syntax</a></span><span class="c0">.</span></p><h1 class="c12" id="h.eg2qx48sgu0l"><span class="c5">Important AWS/Terraform/etc Definitions</span></h1><h2 class="c6" id="h.lsxqxwshq3ef"><span class="c14">Arguments used in resources</span></h2><ul class="c3 lst-kix_ao0e3zfhf3hq-0 start"><li class="c2 c10"><span>ami (terraform) (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html&amp;sa=D&amp;ust=1553882296068000">amazon</a></span><span>) - </span><span>Amazon Machine Image</span><span class="c0">&nbsp;</span></li></ul><ul class="c3 lst-kix_ao0e3zfhf3hq-1 start"><li class="c2 c9"><span class="c0">what type of machine to create (linux, windows, etc, as well as what kind of resources it has (memory, storage space)</span></li><li class="c2 c9"><span class="c0">why are the names of these so cryptic? &nbsp;ugh.</span></li><li class="c2 c9"><span class="c0">it is very hard to find the names for these... </span></li></ul><ul class="c3 lst-kix_ao0e3zfhf3hq-0"><li class="c2 c10"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html&amp;sa=D&amp;ust=1553882296069000">availability_zones</a></span><span class="c0">&nbsp;- separate data center areas available from Amazon</span></li></ul><ul class="c3 lst-kix_ao0e3zfhf3hq-1 start"><li class="c2 c9"><span>this data is fetched by Terraform from Amazon at time of terraform script execution by use of the amazon</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/docs/configuration/data-sources.html&amp;sa=D&amp;ust=1553882296069000">&nbsp;data source</a></span><span class="c0">.</span></li></ul><p class="c2 c13"><span class="c0"></span></p><ul class="c3 lst-kix_ao0e3zfhf3hq-0"><li class="c2 c10"><span>CIDR block (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&amp;sa=D&amp;ust=1553882296070000">wiki</a></span><span class="c0">) - a concise way of detailing blocks of IP addresses</span></li><li class="c2 c10"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html&amp;sa=D&amp;ust=1553882296070000">tags</a></span><span class="c0">&nbsp;- you can apply tags at your discretion to most resources. </span></li><li class="c2 c10"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html&amp;sa=D&amp;ust=1553882296071000">user_data</a></span><span class="c0">&nbsp;- commands that aws can run on a linux machine image after launch.</span></li></ul><h2 class="c6" id="h.cc7t3ainq84d"><span class="c14">Resources</span></h2><p class="c2"><span class="c0">The names of things that terraform can create are called &lsquo;resources&rsquo;. &nbsp;all of the resources for amazon start with &lsquo;aws_&rsquo;.</span></p><ul class="c3 lst-kix_ao0e3zfhf3hq-0"><li class="c2 c10"><span>aws_instance - (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/docs/providers/aws/r/instance.html&amp;sa=D&amp;ust=1553882296071000">terraform</a></span><span>) an amazon </span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/docs/providers/aws/r/instance.html&amp;sa=D&amp;ust=1553882296071000">ec2 instance</a></span><span class="c0">&nbsp;aka a server.</span></li><li class="c2 c10"><span>aws_security_group (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/docs/providers/aws/r/security_group.html&amp;sa=D&amp;ust=1553882296072000">terraform</a></span><span>) (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html&amp;sa=D&amp;ust=1553882296072000">amazon</a></span><span>) - basically a firewall that restricts traffic</span></li><li class="c2 c10"><span>aws_autoscaling_group (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/docs/providers/aws/r/autoscaling_group.html&amp;sa=D&amp;ust=1553882296072000">terraform</a></span><span>) (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://aws.amazon.com/autoscaling/&amp;sa=D&amp;ust=1553882296072000">amazon</a></span><span class="c0">) - amazon can make or remove servers as needed to handle load within a group</span></li></ul><ul class="c3 lst-kix_ao0e3zfhf3hq-1 start"><li class="c2 c9"><span>aws_launch_configuration (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/docs/providers/aws/r/launch_configuration.html&amp;sa=D&amp;ust=1553882296073000">terraform</a></span><span>) (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://docs.aws.amazon.com/autoscaling/ec2/userguide/LaunchConfiguration.html&amp;sa=D&amp;ust=1553882296073000">amazon</a></span><span class="c0">) - resource required by autoscaling groups</span></li></ul><ul class="c3 lst-kix_ao0e3zfhf3hq-0"><li class="c2 c10"><span>aws_elb (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://www.terraform.io/docs/providers/aws/r/elb.html&amp;sa=D&amp;ust=1553882296073000">terraform</a></span><span>) (</span><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://aws.amazon.com/elasticloadbalancing/&amp;sa=D&amp;ust=1553882296073000">amazon</a></span><span class="c0">) - elastic load balancer</span></li></ul><h2 class="c6" id="h.adfmggpkkkt1"><span class="c14">Other random Terraform/AWS items worth knowing about</span></h2><ul class="c3 lst-kix_ao0e3zfhf3hq-0"><li class="c2 c10"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://aws.amazon.com/dynamodb/&amp;sa=D&amp;ust=1553882296074000">Dynamo DB</a></span><span class="c0">&nbsp;- Amazon&rsquo;s no sql db offering</span></li><li class="c2 c10"><span class="c0">Packer - another piece of software from HashiCorp (makers of Terraform) that can be used to generation custom automated machine images.</span></li><li class="c2 c10"><span class="c0">Docker - used to generate custom automated machine images</span></li><li class="c2 c10"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://aws.amazon.com/s3/&amp;sa=D&amp;ust=1553882296074000">S3</a></span><span class="c0">&nbsp;- Simple Storage Service - Amazon&rsquo;s cloud storage offering.</span></li><li class="c2 c10"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://learn.hashicorp.com/terraform/getting-started/variables.html&amp;sa=D&amp;ust=1553882296075000">input variables</a></span><span class="c0">&nbsp;- Terraform can load variables from a few places:</span></li></ul><ul class="c3 lst-kix_ao0e3zfhf3hq-1 start"><li class="c2 c9"><span class="c0">a *.tfvars file</span></li><li class="c2 c9"><span class="c0">from variables declared throughout the code</span></li><li class="c2 c9"><span class="c0">from command line input at the time of execution of the terraform scripts</span></li></ul><ul class="c3 lst-kix_ao0e3zfhf3hq-0"><li class="c2 c10"><span class="c4"><a class="c7" href="https://www.google.com/url?q=https://learn.hashicorp.com/terraform/getting-started/outputs.html&amp;sa=D&amp;ust=1553882296075000">output variables</a></span><span class="c0">&nbsp;- Terraform can output useful info that you don&rsquo;t need to look up afterward. &nbsp;you can also query these outputs as Terraform stores them.</span></li></ul></body></html>